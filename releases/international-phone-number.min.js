(function(){"use strict";angular.module("internationalPhoneNumber",[]).constant("ipnConfig",{allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,customPlaceholder:null,defaultCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:void 0,preferredCountries:["us","gb"],skipUtilScriptDownload:!1,utilsScript:""}).directive("internationalPhoneNumber",["$timeout","ipnConfig",function(n,t){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",country:"="},link:function(e,r,o,i){var u,l,a,s;return i&&""!==r.val()&&n(function(){return r.intlTelInput("setNumber",r.val()),i.$setViewValue(r.val())},0),a=function(){return i.$setViewValue(r.val())},u=function(n){return n instanceof Array?n:n.toString().replace(/[ ]/g,"").split(",")},l=angular.copy(t),angular.forEach(l,function(n,t){var e;if(o.hasOwnProperty(t)&&angular.isDefined(o[t]))return e=o[t],"preferredCountries"===t?l.preferredCountries=u(e):"onlyCountries"===t?l.onlyCountries=u(e):"boolean"==typeof n?l[t]="true"===e:l[t]=e}),s=e.$watch("ngModel",function(n){return e.$$postDigest(function(){return null!==n&&void 0!==n&&n.length>0&&("+"!==n[0]&&(n="+"+n),i.$modelValue=n),r.intlTelInput(l),l.skipUtilScriptDownload||void 0!==o.skipUtilScriptDownload||l.utilsScript||r.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),s()})}),e.$watch("country",function(n){return null!==n&&void 0!==n&&""!==n?r.intlTelInput("selectCountry",n):void 0}),i.$formatters.push(function(n){return n?(r.intlTelInput("setNumber",n),r.val()):n}),i.$parsers.push(function(n){return n?n.replace(/[^\d]/g,""):n}),i.$validators.internationalPhoneNumber=function(n){var t;return t=r.intlTelInput("getSelectedCountryData"),r.is(":disabled")?!0:!n||t&&t.dialCode===n?!0:r.intlTelInput("isValidNumber")},r.on("blur keyup change",function(n){return e.$apply(a)}),r.on("$destroy",function(){return r.intlTelInput("destroy"),r.off("blur keyup change")})}}}])}).call(this);
